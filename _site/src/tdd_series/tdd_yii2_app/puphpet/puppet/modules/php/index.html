<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="yandex-verification" content="551ffc5ae1433df6" />
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Puppet module: php | Чтобы не забыть</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Puppet module: php" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<meta property="og:description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<link rel="canonical" href="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/php/" />
<meta property="og:url" content="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/php/" />
<meta property="og:site_name" content="Чтобы не забыть" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Puppet module: php" />
<script type="application/ld+json">
{"headline":"Puppet module: php","description":"Записная книжка рассеянного [в пространстве и времени] программиста","@type":"WebPage","url":"http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/php/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=eacdde9998fcd3dd17b1956e7070eca69fdaf217">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">Puppet module: php</h1>
      <h2 class="project-tagline">Записная книжка рассеянного [в пространстве и времени] программиста</h2>
      
        <a href="https://github.com/RussianPenguin/russianpenguin.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="puppet-module-php">Puppet module: php</h1>

<p>This is a Puppet module for php based on the second generation layout (“NextGen”) of Example42 Puppet Modules.</p>

<p>Made by ALessandro Franceschi / Lab42</p>

<p>Official site: http://www.example42.com</p>

<p>Official git repository: http://github.com/example42/puppet-php</p>

<p>Released under the terms of Apache 2 License.</p>

<p>This module requires functions provided by the Example42 Puppi module (you need it even if you don’t use and install Puppi)</p>

<p>For detailed info about the logic and usage patterns of Example42 modules check the DOCS directory on Example42 main modules set.</p>

<h2 id="usage---basic-management">USAGE - Basic management</h2>

<ul>
  <li>
    <p>Install php with default settings</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php': }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install a specific version of php package</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    version =&gt; '1.0.1',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Remove php package</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    absent =&gt; true
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Enable auditing without without making changes on existing php configuration files</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    audit_only =&gt; true
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Define nginx service to be notified on changes</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    service =&gt; 'nginx'
  }
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usage---module-installation">USAGE - Module installation</h2>

<ul>
  <li>
    <p>Install a new module</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::module { "imagick": }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install a specific version of a module:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::module { "imagick":
    version =&gt; '1.0.1';
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Remove php module</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::module { "imagick":
      absent =&gt; true,
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>By default module package name is php-$title for RedHat and php5-$title . You can override this prefix.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::module { "apc":
    module_prefix =&gt; "php-"
  }
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usage---module-configuration">USAGE - Module Configuration</h2>

<ul>
  <li>
    <p>Configure php module to all SAPI</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::mod { "mcrypt": }
</code></pre></div>    </div>

    <p><em><strong>Note:</strong> <code class="language-plaintext highlighter-rouge">[name]</code> is filename without <code class="language-plaintext highlighter-rouge">.ini</code> extension from <code class="language-plaintext highlighter-rouge">/etc/php5/mods-available/&lt;name&gt;.ini</code></em></p>
  </li>
  <li>
    <p>Configure multiple php module to all SAPI</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $mods = ["mcrypt", "mongo"]
  php::mod { "$mods": }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Unconfigure php module to all SAPI</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::mod { "xdebug"
      disable =&gt; true,
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Installing and configuring a Module. This will guarantee correct execution order in your classes</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::module { 'sqlite': } -&gt; php::mod { 'sqlite3': }
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usage---pear-management">USAGE - Pear Management</h2>

<ul>
  <li>
    <p>Install a pear package</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pear::module { "XML_Util": }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install a pear package from a remote repository</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pear::module { 'PHPUnit':
    repository  =&gt; 'pear.phpunit.de',
    use_package =&gt; 'no',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install a pear package will all dependencies (–alldeps)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pear::module { 'PHPUnit':
    repository  =&gt; 'pear.phpunit.de',
    alldeps =&gt; 'true',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Set a config option</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pear::config { http_proxy: value =&gt; "myproxy:8080" }
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usage---pecl-management">USAGE - Pecl Management</h2>

<ul>
  <li>
    <p>Install a pecl package</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pecl::module { "XML_Util": }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install a pecl package from source specifying the preferred state (note that you must have the package ‘make’ installed on your system)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pecl::module { "xhprof":
    use_package     =&gt; 'false',
    preferred_state =&gt; 'beta',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Set a config option</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pecl::config { http_proxy: value =&gt; "myproxy:8080" }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Auto-answer prompts for unattended-installation (where configure might used used for instance)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  php::pecl::module { 'stomp':
    use_package     =&gt; 'false',
    auto_answer     =&gt; 'no\\n\\n',
  }
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usage---overrides-and-customizations">USAGE - Overrides and Customizations</h2>
<ul>
  <li>
    <p>Use custom sources for main config file.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    source =&gt; [ "puppet:///modules/lab42/php/php.conf-${hostname}" , "puppet:///modules/lab42/php/php.conf" ],
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Manage php.ini files on Debian and Suse derivatives. Here the main config file path (managed with the source/template params) defaults to /etc/php5/apache2/php.ini. To manage other files, either set a different path in config_file or use the php::conf define.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    config_file =&gt; '/etc/php5/apache2/php.ini',      # Default value on Ubuntu/Suse
    template    =&gt; 'example42/php/php.ini-apache2.erb',
  }

  php::conf { 'php.ini-cli':
    path     =&gt; '/etc/php5/cli/php.ini',
    template =&gt; 'example42/php/php.ini-cli.erb',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use custom source directory for the whole configuration dir</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    source_dir       =&gt; 'puppet:///modules/lab42/php/conf/',
    source_dir_purge =&gt; false, # Set to true to purge any existing file not present in $source_dir
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use custom template for main config file. Note that template and source arguments are alternative.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    template =&gt; 'example42/php/php.conf.erb',
  }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Automatically include a custom subclass</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class { 'php':
    my_class =&gt; 'php::example42',
  }
</code></pre></div>    </div>
  </li>
</ul>

<p><a href="https://travis-ci.org/example42/puppet-php"><img src="https://travis-ci.org/example42/puppet-php.png?branch=master" alt="Build Status" /></a></p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/RussianPenguin/russianpenguin.github.io">russianpenguin.github.io</a> is maintained by <a href="https://github.com/RussianPenguin">RussianPenguin</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(69889387, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/69889387" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </body>
</html>
