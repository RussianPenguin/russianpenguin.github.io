<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="yandex-verification" content="551ffc5ae1433df6" />
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Configure EPEL (Extra Repository for Enterprise Linux) | Чтобы не забыть</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Configure EPEL (Extra Repository for Enterprise Linux)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<meta property="og:description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<link rel="canonical" href="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/epel/" />
<meta property="og:url" content="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/epel/" />
<meta property="og:site_name" content="Чтобы не забыть" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Configure EPEL (Extra Repository for Enterprise Linux)" />
<script type="application/ld+json">
{"url":"http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/epel/","description":"Записная книжка рассеянного [в пространстве и времени] программиста","headline":"Configure EPEL (Extra Repository for Enterprise Linux)","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=d85e6f1917405784d52928d499ab3e51b4bffcc9">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">Configure EPEL (Extra Repository for Enterprise Linux)</h1>
      <h2 class="project-tagline">Записная книжка рассеянного [в пространстве и времени] программиста</h2>
      
        <a href="https://github.com/RussianPenguin/russianpenguin.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="configure-epel-extra-repository-for-enterprise-linux">Configure EPEL (Extra Repository for Enterprise Linux)</h1>

<h1 id="about">About</h1>
<p>This module basically just mimics the epel-release rpm. The same repos are
enabled/disabled and the GPG key is imported.  In the end you will end up with
the EPEL repos configured.</p>

<p>The following Repos will be setup and enabled by default:</p>

<ul>
  <li>epel</li>
</ul>

<p>Other repositories that will setup but disabled (as per the epel-release setup)</p>

<ul>
  <li>epel-debuginfo</li>
  <li>epel-source</li>
  <li>epel-testing</li>
  <li>epel-testing-debuginfo</li>
  <li>epel-testing-source</li>
</ul>

<h1 id="usage">Usage</h1>

<p>In nearly all cases, you can simply <em>include epel</em> or classify your nodes with
the epel class. There are quite a few paramters available if you need to modify
the default settings for the epel repository such having your own mirror, an
http proxy, disable gpg checking.</p>

<p>You can also use a puppet one-liner to get epel onto a system.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>puppet apply -e 'include epel'
</code></pre></div></div>

<h1 id="proxy">Proxy</h1>
<p>If you have an http proxy required to access the internet, you can use either
a class parameter in the <em>epel</em> class, or edit the $proxy variable in the
params.pp file. By default no proxy is assumed.</p>

<h1 id="why">Why?</h1>
<p>I am a big fan of EPEL. I actually was one of the people who helped get it
going. I am also the owner of the epel-release package, so in general this
module should stay fairly up to date with the official upstream package.</p>

<p>I just got sick of coding Puppet modules and basically having an assumption
that EPEL was setup or installed. I can now depend on this module instead.</p>

<p>I realize it is fairly trivial to get EPEL setup. Every now-and-then however
the path to epel-release changes because something changes in the package (mass
rebuild, rpm build macros updates, etc). This module will bypass the changing
URL and just setup the package mirrors.</p>

<p>This does mean that if you are looking for RPM macros that are normally
included with EPEL release, this will not have them.</p>

<h1 id="futher-information">Futher Information</h1>

<ul>
  <li><a href="http://fedoraproject.org/wiki/EPEL">EPEL Wiki</a></li>
  <li><a href="http://mirrors.servercentral.net/fedora/epel/6/i386/repoview/epel-release.html">epel-release package information</a></li>
</ul>

<h1 id="changelog">ChangeLog</h1>

<p>=======</p>

<p>1.2.2</p>
<ul>
  <li>Add dep on stdlib for getvar function call</li>
</ul>

<p>1.2.1</p>
<ul>
  <li>Minor fix that lets facter 1.6 still work</li>
  <li>Enforce strict variables</li>
</ul>

<p>1.2.0</p>
<ul>
  <li>Rework testing to use TravisCI</li>
  <li>If you specify a baseurl, disable mirrorlist</li>
</ul>

<p>1.1.1</p>
<ul>
  <li>Ensure that GPG keys are using short IDs (issue #33)</li>
</ul>

<p>1.1.0</p>
<ul>
  <li>Default URLs to be https</li>
  <li>Add ability to include/exclude packages</li>
</ul>

<p>1.0.2</p>
<ul>
  <li>Update README with usage section.</li>
  <li>Fix regression when os_maj_version fact was required</li>
  <li>Ready for 1.0 - replace Modulefile with metadata.json</li>
  <li>Replace os_maj_version custom fact with operatingsystemmajrelease</li>
  <li>Works for EPEL7 now as well.</li>
</ul>

<h1 id="testing">Testing</h1>

<ul>
  <li>This is commonly used on Puppet Enterprise 3.x</li>
  <li>This was tested using Puppet 3.3.0 on Centos5/6</li>
  <li>This was tested using Puppet 3.1.1 on Amazon’s AWS Linux</li>
  <li>This was tested using Puppet 3.8 and Puppet 4 now as well!</li>
  <li>Note Ruby 2.2 and Puppet 3.8 are not yet friends.</li>
  <li>I assume it will work on any RHEL variant (Amazon Linux is debatable as a variant)</li>
  <li>Amazon Linux compatability not promised, as EPEL doesn’t always work with it.</li>
</ul>

<h1 id="lifecycle">Lifecycle</h1>

<ul>
  <li>No functionality has been introduced that should break Puppet 2.6 or 2.7, but I am no longer testing these versions of Puppet as they are end-of-lifed from Puppet Labs.</li>
  <li>This also assumes a facter of greater than 1.7.0 – at least from a testing perspective.</li>
  <li>I’m not actively fixing bugs for anything in facter &lt; 2 or puppet &lt; 3.8</li>
</ul>

<h2 id="unit-tests">Unit tests</h2>

<p>Install the necessary gems</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install --path vendor --without system_tests
</code></pre></div></div>

<p>Run the RSpec and puppet-lint tests</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle exec rake test
</code></pre></div></div>

<h2 id="system-tests">System tests</h2>

<p>If you have Vagrant &gt;=1.1.0 you can also run system tests:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RSPEC_SET=centos-64-x64 bundle exec rake spec:system
</code></pre></div></div>

<p>Available RSPEC_SET options are in .nodeset.yml</p>

<h1 id="license">License</h1>
<p>Apache Software License 2.0</p>

<h1 id="authorcontributors">Author/Contributors</h1>
<ul>
  <li>Aaron <a href="mailto:slapula@users.noreply.github.com">slapula@users.noreply.github.com</a></li>
  <li>Chad Metcalf <a href="mailto:metcalfc@gmail.com">metcalfc@gmail.com</a></li>
  <li>Ewoud Kohl van Wijngaarden <a href="mailto:e.kohlvanwijngaarden@oxilion.nl">e.kohlvanwijngaarden@oxilion.nl</a></li>
  <li>Joseph Swick <a href="mailto:joseph.swick@meltwater.com">joseph.swick@meltwater.com</a></li>
  <li>Mickaël Canévet <a href="mailto:mickael.canevet@camptocamp.com">mickael.canevet@camptocamp.com</a></li>
  <li>Matthaus Owens <a href="mailto:mlitteken@gmail.com">mlitteken@gmail.com</a></li>
  <li>Michael Stahnke <a href="mailto:stahnma@puppetlabs.com">stahnma@puppetlabs.com</a></li>
  <li>Michael Stahnke <a href="mailto:stahnma@websages.com">stahnma@websages.com</a></li>
  <li>Nick Le Mouton <a href="mailto:nick@noodles.net.nz">nick@noodles.net.nz</a></li>
  <li>Pro Cabales <a href="mailto:proletaryo@gmail.com">proletaryo@gmail.com</a></li>
  <li>Proletaryo Cabales <a href="mailto:proletaryo@gmail.com">proletaryo@gmail.com</a></li>
  <li>Rob Nelson <a href="mailto:rnelson0@gmail.com">rnelson0@gmail.com</a></li>
  <li>Robert Story <a href="mailto:rstory@localhost">rstory@localhost</a></li>
  <li>Stefan Goethals <a href="mailto:stefan@zipkid.eu">stefan@zipkid.eu</a></li>
  <li>Tim Rupp <a href="mailto:caphrim007@gmail.com">caphrim007@gmail.com</a></li>
  <li>Trey Dockendorf <a href="mailto:treydock@gmail.com">treydock@gmail.com</a></li>
  <li>Troy Bollinger <a href="mailto:troy@us.ibm.com">troy@us.ibm.com</a></li>
  <li>Vlastimil Holer <a href="mailto:holer@ics.muni.cz">holer@ics.muni.cz</a></li>
</ul>

<h1 id="alternatives">Alternatives</h1>
<p>If you’re on CentOS 7, you can just <code class="language-plaintext highlighter-rouge">yum install epel-release</code> as it’s in centos-extras.</p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/RussianPenguin/russianpenguin.github.io">russianpenguin.github.io</a> is maintained by <a href="https://github.com/RussianPenguin">RussianPenguin</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(69889387, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/69889387" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </body>
</html>
