<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="yandex-verification" content="551ffc5ae1433df6" />
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Чтобы не забыть | Записная книжка рассеянного [в пространстве и времени] программиста</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Чтобы не забыть" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<meta property="og:description" content="Записная книжка рассеянного [в пространстве и времени] программиста" />
<link rel="canonical" href="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/java/" />
<meta property="og:url" content="http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/java/" />
<meta property="og:site_name" content="Чтобы не забыть" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Чтобы не забыть" />
<script type="application/ld+json">
{"headline":"Чтобы не забыть","description":"Записная книжка рассеянного [в пространстве и времени] программиста","@type":"WebPage","url":"http://localhost:4000/src/tdd_series/tdd_yii2_app/puphpet/puppet/modules/java/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=eacdde9998fcd3dd17b1956e7070eca69fdaf217">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">Чтобы не забыть</h1>
      <h2 class="project-tagline">Записная книжка рассеянного [в пространстве и времени] программиста</h2>
      
        <a href="https://github.com/RussianPenguin/russianpenguin.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <p>#java</p>

<p>####Table of Contents</p>

<ol>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#module-description">Module Description - What the module does and why it is useful</a></li>
  <li><a href="#setup">Setup - The basics of getting started with the java module</a>
    <ul>
      <li><a href="#beginning-with-the-java-module">Beginning with the java module</a></li>
    </ul>
  </li>
  <li><a href="#usage">Usage - Configuration options and additional functionality</a></li>
  <li><a href="#reference">Reference - An under-the-hood peek at what the module is doing and how</a></li>
  <li><a href="#limitations">Limitations - OS compatibility, etc.</a></li>
  <li><a href="#development">Development - Guide for contributing to the module</a></li>
</ol>

<p>##Overview</p>

<p>Installs the correct Java package on various platforms.</p>

<p>##Module Description</p>

<p>The java module can automatically install Java jdk or jre on a wide variety of systems. Java is a base component for many software platforms, but Java system packages don’t always follow packaging conventions. The java module simplifies the Java installation process.</p>

<p>##Setup</p>

<p>###Beginning with the java module
To install the correct Java package on your system, include the <code class="language-plaintext highlighter-rouge">java</code> class: <code class="language-plaintext highlighter-rouge">include java</code>.</p>

<p>##Usage</p>

<p>The java module installs the correct jdk or jre package on a wide variety of systems. By default, the module installs the jdk package, but you can set different installation parameters as needed. For example, to install jre instead of jdk, you would set the distribution parameter:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class { 'java':
  distribution =&gt; 'jre',
}
</code></pre></div></div>

<p>To install the latest patch version of Java 8 on CentOS</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class { 'java' :
  package =&gt; 'java-1.8.0-openjdk-devel',
}
</code></pre></div></div>

<p>The defined type <code class="language-plaintext highlighter-rouge">java::oracle</code> installs one or more versions of Oracle Java SE. <code class="language-plaintext highlighter-rouge">java::oracle</code> depends on <a href="https://github.com/voxpupuli/puppet-archive">puppet/archive</a>.  By using <code class="language-plaintext highlighter-rouge">java::oracle</code> you agree to Oracle’s licensing terms for Java SE.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java::oracle { 'jdk6' :
  ensure  =&gt; 'present',
  version =&gt; '6',
  java_se =&gt; 'jdk',
}

java::oracle { 'jdk8' :
  ensure  =&gt; 'present',
  version =&gt; '8',
  java_se =&gt; 'jdk',
}
</code></pre></div></div>

<p>##Reference</p>

<p>###Classes</p>

<p>####Public classes</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">java</code>: Installs and manages the Java package.</li>
</ul>

<p>####Private classes</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">java::config</code>: Configures the Java alternatives.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">java::params</code>: Builds a hash of jdk/jre packages for all compatible operating systems.</p>
  </li>
</ul>

<p>####Parameters
The following parameters are available in <code class="language-plaintext highlighter-rouge">java</code>:</p>

<h5 id="distribution"><code class="language-plaintext highlighter-rouge">distribution</code></h5>
<p>Specifies the Java distribution to install.<br />
Valid options:  ‘jdk’, ‘jre’, or, where the platform supports alternative packages, ‘sun-jdk’, ‘sun-jre’, ‘oracle-jdk’, ‘oracle-jre’. Default: ‘jdk’.</p>

<p>#####<code class="language-plaintext highlighter-rouge">java_alternative</code>
Specifies the name of the Java alternative to use. If you set this parameter, <em>you must also set the <code class="language-plaintext highlighter-rouge">java_alternative_path</code>.</em><br />
Valid options: Run command <code class="language-plaintext highlighter-rouge">update-java-alternatives -l</code> for a list of available choices. Default: OS and distribution dependent defaults on *deb systems, undef on others.</p>

<p>#####<code class="language-plaintext highlighter-rouge">java_alternative_path</code><br />
<em>Required when <code class="language-plaintext highlighter-rouge">java_alternative</code> is specified.</em> Defines the path to the <code class="language-plaintext highlighter-rouge">java</code> command.<br />
Valid option: String. Default: OS and distribution dependent defaults on *deb systems, undef on others.</p>

<p>#####<code class="language-plaintext highlighter-rouge">package</code>
Specifies the name of the Java package. This is configurable in case you want to install a non-standard Java package. If not set, the module installs the appropriate package for the <code class="language-plaintext highlighter-rouge">distribution</code> parameter and target platform. If you set <code class="language-plaintext highlighter-rouge">package</code>, the <code class="language-plaintext highlighter-rouge">distribution</code> parameter does nothing.<br />
Valid option: String. Default: undef.</p>

<p>#####<code class="language-plaintext highlighter-rouge">version</code>
Sets the version of Java to install, if you want to ensure a particular version.<br />
Valid options: ‘present’, ‘installed’, ‘latest’, or a string matching <code class="language-plaintext highlighter-rouge">/^[.+_0-9a-zA-Z:-]+$/</code>. Default: ‘present’.</p>

<p>####Public defined types</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">java::oracle</code>: Installs specified version of Oracle Java SE.  You may install multiple versions of Oracle Jave SE on the same node using this defined type.</li>
</ul>

<p>####Parameters</p>

<p>The following parameters are available in <code class="language-plaintext highlighter-rouge">java::oracle</code>:</p>

<p>######<code class="language-plaintext highlighter-rouge">version</code>
Version of Java Standard Edition (SE) to install. 6, 7 or 8.</p>

<p>#####<code class="language-plaintext highlighter-rouge">java_se</code>
Type of Java SE to install, jdk or jre.</p>

<p>#####<code class="language-plaintext highlighter-rouge">ensure</code>
Install or remove the package.</p>

<p>#####<code class="language-plaintext highlighter-rouge">oracle_url</code>
Official Oracle URL to download the binaries from.</p>

<p>###Facts</p>

<p>The java module includes a few facts to describe the version of Java installed on the system:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">java_major_version</code>: The major version of Java.</li>
  <li><code class="language-plaintext highlighter-rouge">java_patch_level</code>: The patch level of Java.</li>
  <li><code class="language-plaintext highlighter-rouge">java_version</code>: The full Java version string.</li>
  <li><code class="language-plaintext highlighter-rouge">java_default_home</code>: The absolute path to the java system home directory (only available on Linux). For instance, the <code class="language-plaintext highlighter-rouge">java</code> executable’s path would be <code class="language-plaintext highlighter-rouge">${::java_default_home}/jre/bin/java</code>. This is slightly different from the “standard” JAVA_HOME environment variable.</li>
  <li><code class="language-plaintext highlighter-rouge">java_libjvm_path</code>: The absolute path to the directory containing the shared library <code class="language-plaintext highlighter-rouge">libjvm.so</code> (only available on Linux). Useful for setting <code class="language-plaintext highlighter-rouge">LD_LIBRARY_PATH</code> or configuring the dynamic linker.</li>
</ul>

<p><strong>Note:</strong> The facts return <code class="language-plaintext highlighter-rouge">nil</code> if Java is not installed on the system.</p>

<p>##Limitations</p>

<p>This module cannot guarantee installation of Java versions that are not available on  platform repositories.</p>

<p>This module only manages a singular installation of Java, meaning it is not possible to manage e.g. OpenJDK 7, Oracle Java 7 and Oracle Java 8 in parallel on the same system.</p>

<p>Oracle Java packages are not included in Debian 7 and Ubuntu 12.04/14.04 repositories. To install Java on those systems, you’ll need to package Oracle JDK/JRE, and then the module can install the package. For more information on how to package Oracle JDK/JRE, see the <a href="http://wiki.debian.org/JavaPackage">Debian wiki</a>.</p>

<p>This module is officially <a href="https://forge.puppetlabs.com/supported">supported</a> for the following Java versions and platforms:</p>

<p>OpenJDK is supported on:</p>

<ul>
  <li>Red Hat Enterprise Linux (RHEL) 5, 6, 7</li>
  <li>CentOS 5, 6, 7</li>
  <li>Oracle Linux 6, 7</li>
  <li>Scientific Linux 5, 6</li>
  <li>Debian 6, 7</li>
  <li>Ubuntu 10.04, 12.04, 14.04</li>
  <li>Solaris 11</li>
  <li>SLES 11 SP1, 12</li>
  <li>OpenBSD 5.6, 5.7</li>
</ul>

<p>Sun Java is supported on:</p>

<ul>
  <li>Debian 6</li>
</ul>

<p>Oracle Java is supported on:</p>
<ul>
  <li>CentOS 6</li>
</ul>

<h3 id="a-note-about-openbsd">A note about OpenBSD</h3>
<p>OpenBSD packages install Java JRE/JDK in a unique directory structure, not linking
the binaries to a standard directory. Because of that, the path to this location
is hardcoded in the java_version fact. Whenever a Java upgrade to a newer
version/path will be done on OpenBSD, it has to be adapted there.</p>

<h3 id="a-note-about-freebsd">A note about FreeBSD</h3>
<p>By default on FreeBSD Puppet &lt; 4.0, you will see an error as <code class="language-plaintext highlighter-rouge">pkgng</code> is not the default provider. To fix this, you can install the <a href="https://forge.puppetlabs.com/zleslie/pkgng">zleslie/pkgng module</a> and set it as the default package provider like so:</p>

<div class="language-puppet highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Package</span> <span class="p">{</span>
  <span class="py">provider</span> <span class="p">=&gt;</span> <span class="s1">'pkgng'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p>On Puppet &gt; 4.0 (ie. using the sysutils/puppet4 port), <code class="language-plaintext highlighter-rouge">pkgng</code> is included within Puppet and it’s the default package provider.</p>

<p>##Development</p>

<p>Puppet Labs modules on the Puppet Forge are open projects, and community contributions are essential for keeping them great. We can’t access the huge number of platforms and myriad hardware, software, and deployment configurations that Puppet is intended to serve. We want to keep it as easy as possible to contribute changes so that our modules work in your environment. There are a few guidelines that we need contributors to follow so that we can have a chance of keeping on top of things. For more information, see our <a href="https://docs.puppetlabs.com/forge/contributing.html">module contribution guide.</a></p>

<p>##Contributors</p>

<p>The list of contributors can be found at: <a href="https://github.com/puppetlabs/puppetlabs-java/graphs/contributors">https://github.com/puppetlabs/puppetlabs-java/graphs/contributors</a>.</p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/RussianPenguin/russianpenguin.github.io">russianpenguin.github.io</a> is maintained by <a href="https://github.com/RussianPenguin">RussianPenguin</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(69889387, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/69889387" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </body>
</html>
