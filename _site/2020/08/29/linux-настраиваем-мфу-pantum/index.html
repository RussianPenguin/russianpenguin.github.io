<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="yandex-verification" content="551ffc5ae1433df6" />
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Linux: Настраиваем МФУ pantum | Чтобы не забыть</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Linux: Настраиваем МФУ pantum" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Рассматриваем работу с принтерами фирмы pantum. А так же настройку sane для удаленного сканирования." />
<meta property="og:description" content="Рассматриваем работу с принтерами фирмы pantum. А так же настройку sane для удаленного сканирования." />
<link rel="canonical" href="http://localhost:4000/2020/08/29/linux-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%B0%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BC%D1%84%D1%83-pantum/" />
<meta property="og:url" content="http://localhost:4000/2020/08/29/linux-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%B0%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BC%D1%84%D1%83-pantum/" />
<meta property="og:site_name" content="Чтобы не забыть" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-29T18:58:34+03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Linux: Настраиваем МФУ pantum" />
<script type="application/ld+json">
{"headline":"Linux: Настраиваем МФУ pantum","dateModified":"2020-08-29T18:58:34+03:00","datePublished":"2020-08-29T18:58:34+03:00","description":"Рассматриваем работу с принтерами фирмы pantum. А так же настройку sane для удаленного сканирования.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/08/29/linux-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%B0%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BC%D1%84%D1%83-pantum/"},"@type":"BlogPosting","url":"http://localhost:4000/2020/08/29/linux-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%B0%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BC%D1%84%D1%83-pantum/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=eacdde9998fcd3dd17b1956e7070eca69fdaf217">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">Linux: Настраиваем МФУ pantum</h1>
      <h2 class="project-tagline">Записная книжка рассеянного [в пространстве и времени] программиста</h2>
      
        <a href="https://github.com/RussianPenguin/russianpenguin.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1>Linux: Настраиваем МФУ pantum</h1>
<p>29 Aug 2020</p>

<!-- wp:paragraph -->

<p>Есть такие новые китайские принтеры (относительноо новые) Pantum. В них и wifi, и поддержка linux из коробки. Достал я и себе такое чудо платы лутом делать и шаблоны для фоторезиста печатать.</p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Настроить wifi в принтере (если он есть) без смартфона не получится - лезем туда и делаем все по инструкции (она с картинками).</p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Теперь надо поставить драйвера и настроить сканирование и печать по wifi. Если у вас убунту или дебиан, то драйвера скачиваются и устанавливаются в виде пакета. Если федора, то придется немного покомпилировать.</p>

<!-- /wp:paragraph -->

<!-- wp:more -->
<!--more-->
<!-- /wp:more -->

<!-- wp:paragraph -->

<p><strong>Пакеты для fedora</strong></p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Предварительно потребуется собрать библиотеку libjpeg so.8. Иначе вы не сможете поставить sane-драйвера.</p>

<!-- /wp:paragraph -->

<!-- wp:code -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nothing provides libjpeg so.8()(64bit) needed by pantum-m6xxx-sane-1 4 0-2 fc28 x86_64
</code></pre></div></div>

<!-- /wp:code -->

<!-- wp:syntaxhighlighter/code {"language":"bash"} -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install rpm-build spectool git $ rpmdev-setuptree $ git clone https://github.com/RussianFedora/compat-libjpeg8.git $ cd pantum-m6xxx $ spectool --all --get-files --directory ~/rpmbuild/SOURCES compat-libjpeg8.spec $ cd compat-libjpeg8 $ rpmbuild -bb compat-libjpeg8.spec $ sudo dnf install ~/rpmbuild/RPMS/$(uname -m)/compat-libjpeg8-1.5.3-3.fc32.x86\_64.rpm
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>А теперь можно собирать и ставить драйвера для pantum.</p>

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"bash"} -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install rpm-build spectool git $ rpmdev-setuptree $ git clone https://github.com/EasyCoding/pantum-m6xxx.git $ cd pantum-m6xxx $ spectool --all --get-files --directory ~/rpmbuild/SOURCES pantum-m6xxx.spec $ cd pantum-m6xxx $ rpmbuild -bb pantum-m6xxx.spec $ sudo dnf install ~/rpmbuild/RPMS/$(uname -m)/pantum-m6xxx-\*.rpm
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p><strong>Настройка cups</strong></p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Заходим в <a href="631/">веб-интерфейс</a> и добавляем принтер. Никаких сложностей нет.</p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p><strong>Настройка sane</strong></p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Тут сложнее. Ставим sane-backend, а потом добавляем удаленный сканер.</p>

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"bash"} -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo dnf install sane-backends-daemon
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Добавляем в /etc/sane.d/dll.conf</p>

<!-- /wp:paragraph -->

<!-- wp:code -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pantum6500
pantum_mfp
</code></pre></div></div>

<!-- /wp:code -->

<!-- wp:paragraph -->

<p>Получаем доменный адрес принтера через avahi. Я уже <a href="https://russianpenguin.ru/2016/04/08/%d0%ba%d0%b0%d0%ba-%d0%b6%d0%b8%d1%82%d1%8c-%d0%b2-%d0%bb%d0%be%d0%ba%d0%b0%d0%bb%d1%8c%d0%bd%d0%be%d0%b9-%d1%81%d0%b5%d1%82%d0%b8-%d0%b1%d0%b5%d0%b7-dns/">писал</a> о том, как работать без локального днс.</p>

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"bash"} -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ avahi-browse-domains -alr
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Среди полученных адресов вы увидите адрес принтера Pantum-XXXXXX.local. Этот адрес надо добавить в /etc/sane.d/net.conf.</p>

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Запускаем saned.</p>

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"bash"} -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo systemctl start saned.socket
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Проверяем наличие сканера.</p>

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ scanimage -L device `v4l:/dev/video0' is a Noname HD WebCam: HD WebCam virtual device device `airscan:e0:Pantum M6500W series[XXXXX]' is a eSCL Pantum M6500W series[XXXXX] eSCL network scanner
</code></pre></div></div>

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p><strong>Литература</strong></p>

<!-- /wp:paragraph -->

<!-- wp:group -->

<!-- wp:list -->
<ul>
  <li><a href="https://www.easycoding.org/2018/02/11/sobiraem-paket-s-drajverami-mfu-pantum-dlya-fedora.html">Собираем пакет с драйверами МФУ Pantum для Fedora</a></li>
  <li><a href="https://forums.linuxmint.com/viewtopic.php?p=1204049&amp;sid=68afd6af54d2b9f15fa0394439fe43ac#p1204049">Xsane from a network MFP</a></li>
  <li><a href="https://wiki.debian.org/SaneOverNetwork">SaneOverNetwork</a></li>
</ul>

<!-- /wp:list -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- /wp:group -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->




      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/RussianPenguin/russianpenguin.github.io">russianpenguin.github.io</a> is maintained by <a href="https://github.com/RussianPenguin">RussianPenguin</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(69889387, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/69889387" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </body>
</html>
