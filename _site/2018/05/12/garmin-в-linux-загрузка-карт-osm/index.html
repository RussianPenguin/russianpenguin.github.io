<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="yandex-verification" content="551ffc5ae1433df6" />
    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Garmin в Linux: загрузка карт OSM | Чтобы не забыть</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Garmin в Linux: загрузка карт OSM" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Разбираемся как загружать карты osm в навигаторы garmin в линуксе. Используем для этого MapSource под wine." />
<meta property="og:description" content="Разбираемся как загружать карты osm в навигаторы garmin в линуксе. Используем для этого MapSource под wine." />
<link rel="canonical" href="http://localhost:4000/2018/05/12/garmin-%D0%B2-linux-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BA%D0%B0%D1%80%D1%82-osm/" />
<meta property="og:url" content="http://localhost:4000/2018/05/12/garmin-%D0%B2-linux-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BA%D0%B0%D1%80%D1%82-osm/" />
<meta property="og:site_name" content="Чтобы не забыть" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-12T16:27:03+03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Garmin в Linux: загрузка карт OSM" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2018/05/12/garmin-%D0%B2-linux-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BA%D0%B0%D1%80%D1%82-osm/","description":"Разбираемся как загружать карты osm в навигаторы garmin в линуксе. Используем для этого MapSource под wine.","headline":"Garmin в Linux: загрузка карт OSM","dateModified":"2018-05-12T16:27:03+03:00","datePublished":"2018-05-12T16:27:03+03:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2018/05/12/garmin-%D0%B2-linux-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BA%D0%B0%D1%80%D1%82-osm/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=d85e6f1917405784d52928d499ab3e51b4bffcc9">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">Garmin в Linux: загрузка карт OSM</h1>
      <h2 class="project-tagline">Записная книжка рассеянного [в пространстве и времени] программиста</h2>
      
        <a href="https://github.com/RussianPenguin/russianpenguin.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1>Garmin в Linux: загрузка карт OSM</h1>
<p>12 May 2018</p>

<p><img src="/assets/images/2018/05/2018-05-12-152102_1485x851.png?w=150" alt="2018-05-12-15:21:02_1485x851" />Долгое время считалось, что загрузка карт в гарминовские навигаторы - это очень сложный процесс (на самом деле так и есть, особенно если вы подготавливаете карты вручную).</p>

<p>Но оказалось, что загружать карты все же возможно и можно делать это достаточно быстро. Нам потребуется wine, mapsource и дампы карты проекта <a href="http://garmin.gis-lab.info/">gis-lab</a>.</p>

<!--more-->

<h2 id="установка-wine">Установка wine</h2>

<p>Тут ничего сложного.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>dnf <span class="nb">install </span>wine
</code></pre></div></div>

<h2 id="установка-mapsource">Установка MapSource</h2>

<p>Тут сложнее - установочный пакет версии 6163 с официального сайта вызывает ошибку о том, что он уже нашел установленный mapsource.</p>

<p><img src="/assets/images/2018/05/2018-05-12-133304_661x512.png?w=300" alt="2018-05-12-13:33:04_661x512" /></p>

<p>Поэтому требуется найти MapSource_6153.exe на сайте <a href="http://gawisp.com/perry/mapsource/">http://gawisp.com/perry/mapsource/</a> и поставить его. После завершения установки инсталлятор попросит разрешения запустить софтину - не соглашайтесь, так как у вас нет еще установленных карт и запуск будет неудачным.</p>

<p>Кстати, по окончанию процесса можно будет установить обновление прямо из меню (раздел справка-&gt;проверка обновлений). Это будет обновление до последней версии, которое пройдет успешно.</p>

<h2 id="установка-карт">Установка карт</h2>

<p>Скачиваем интересующие нас регионы со <a href="http://garmin.gis-lab.info/">страницы проекта</a>. После распаковки в какой-либо каталог (например ~/maps) каждого архива запускаем последовательно в распакованных папках</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>wineconsole install.bat
</code></pre></div></div>

<h2 id="подключение-навигатора">Подключение навигатора</h2>

<p>Рассматривать будем только современные навигаторы, которые подключаются как usb-диск. Для старших моделей, которые подключаются по ком-порту можно почитать подробную <a href="https://ubuntuforums.org/showthread.php?t=1483930">инструкцию</a>.</p>

<p>В случае с garmin mass storage нужно сделать так, чтобы подмонтированное устройство распознавалось как флоппи-диск.</p>

<ul>
  <li>Подключаем навигатор</li>
  <li>Монтируем его и запускаем winecfg</li>
  <li>В разделе диски нужно создать новый диск, который будет ссылаться на подмонтированное устройство и в разделе дополнительных опций указать тип диска “флоппидиск”.</li>
</ul>

<p><img src="/assets/images/2018/05/2018-05-12-161052_456x536.png" alt="2018-05-12-16:10:52_456x536" /></p>

<p>При этом удалять или изменять то, что система определила автоматически (в моем случае это диск D:) не стоит - настройки не будет сохраняться. Нужно создать точку монтирования вручную.</p>

<h2 id="загрузка-карт">Загрузка карт</h2>

<p>Запускаем из меню MapSoutce</p>

<ul>
  <li>В списке карт выбираем нужную нам карту</li>
  <li>При помощи инструмента карты выбираем нужный регион и убеждаемся, что он попал в список выгружаемых карт (вкладка карты)</li>
  <li>Повторяем шаги для оставшихся карт</li>
</ul>

<p><img src="/assets/images/2018/05/2018-05-12-161710_1480x862.png" alt="2018-05-12-16:17:10_1480x862.png" /></p>

<p><img src="/assets/images/2018/05/2018-05-12-161839_512x731.png" alt="2018-05-12-16:18:39_512x731" /></p>

<p>Как только все карты будут добавлены можно идти в меню передача-&gt;передать на устройство. И выгружать данные.</p>

<p><img src="/assets/images/2018/05/2018-05-12-161852_293x347.png" alt="2018-05-12-16:18:52_293x347" /></p>

<h2 id="литература">Литература</h2>

<ul>
  <li><a href="https://ubuntuforums.org/showthread.php?t=1483930">Running Garmin Mapsource (6137) under Ubuntu with GPS access</a></li>
  <li><a href="https://ubuntuforums.org/showthread.php?t=1793977">Connect Garmin GPS to MapSource</a></li>
  <li><a href="https://openmtbmap.org/tutorials/send_maps/">Send maps with Basecamp (Mapinstall) or Mapsource</a></li>
</ul>



      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/RussianPenguin/russianpenguin.github.io">russianpenguin.github.io</a> is maintained by <a href="https://github.com/RussianPenguin">RussianPenguin</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(69889387, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/69889387" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </body>
</html>
